{% extends 'base.html' %}{% load static %}
{% block title %}Project description{% endblock title%}
{% block content %}

<style>
		.w-icon-nav-menu:before {
			content: ""
		}

		@media only screen and (max-width: 1260px) {
			#freekohide {
				display: none;
			}
		}

		@media only screen and (max-width: 767px) {
			.pta {
				display: none;
			}
		}

		.searchcontainer {
			min-width: 960px;
			margin: 0 auto;
			width: 100%;
			padding: 5rem 2rem;
		}

		.searchcontainer .field-input {
			text-align: center;
			min-width: 960px;
		}

		.searchcontainer .field-input input {
			text-align: left;
			border-radius: 6rem;
			border: 1px solid #a0a0a0;
			font-size: 20px;
			padding: .6rem 2rem .6rem 1rem;
			min-width: 40 em;
			font-family: 'roboto';
			transition: .5s;
		}

		.searchcontainer .field-input input:focus {
			outline: none;
			border-color: #212121;
			transition: .5s;
		}

		.searchcontainer .field-input span:before {
			content: 'ï€‚';
			cursor: pointer;
			position: relative;
			font-family: 'fontawesome';
			top: 0;
			right: 1.5rem;
		}

		#info .bg {
			fill: transparent;
		}

		#info .st0 {
			fill: none;
			stroke: green;
			stroke-width: 6;
			stroke-miterlimit: 10;
		}

		#info .st1 {
			fill: green;
		}

		#info .st2 {
			fill: green;
			stroke: green;
			stroke-width: 6;
			stroke-miterlimit: 10;
		}

		/*Lock*/

		#lock #bg {
			fill: transparent
		}

		#lock .st0,
		#lock .circle,
		#lock .ellipse {
			fill: none;
			stroke: #DC3D51;
			;
			stroke-width: 2;
			stroke-miterlimit: 10;
		}

		#lock .st0 {
			-moz-transform: scale(1, 1);
			-ms-transform: scale(1, 1);
			-webkit-transform: scale(1, 1);
			transform: scale(1, 1);

			-moz-transform-origin: 50% 50%;
			-ms-transform-origin: 50% 50%;
			-webkit-transform-origin: 50% 50%;
			transform: 50% 50%;
			transition: 0.5s;
		}

		#lock:hover .st0 {
			-moz-transform: scale(-1, 1);
			-ms-transform: scale(-1, 1);
			-webkit-transform: scale(-1, 1);
			transform: scale(-1, 1);
		}

		#lock .st1 {
			fill: none;
			stroke: #DC3D51;
			;
			stroke-width: 4;
			stroke-miterlimit: 10;
		}

		#lock .st2 {
			fill: none;
			stroke: #DC3D51;
			;
			stroke-width: 4;
			stroke-miterlimit: 10;
			stroke-dasharray: 41;
			transition: 0.5s;
		}

		#lock:hover .st2 {
			stroke-dasharray: 31;
		}


		.ou {

			height: 57%;
			padding: 10px;
			margin: 20px;
			padding-right: 10px;

		}

		.prjtDesc {
			width: 100%;
			padding: 12px 20px;
			margin: 20px;
			overflow: hidden;
			display: flex;
			margin-bottom: 2px;

		}

		.innDesc {
			font-size: 17px;
			width: 100%;
			display: flex;
			padding: 12px
		}

		.desc {
			font-size: 15px;
			width: 75%;
			color: black;
		}

		.pta {
			width: 10vw;
			vertical-align: middle;
			font-size: 17px;
			text-align: center;
		}

		.dead {
			width: 30%;
			vertical-align: middle;
			font-size: 17px;
			font-color: fb7a74;
			background-color: white;margin: 5px;
			text-align: center;
		}

		.ouleft {
			width: 100%;
			height: 100%;
			overflow: hidden;
			background-color: #f8f8f8;
			padding: 12px 10px;
			float: left;
		}

		

	
		
.projectContainer {
			height: auto;
			max-height: 70vh;
			overflow-y: scroll;
			padding: 12px;
			padding-top: 12px;
			padding-bottom: 12px;
			padding-right: 30px;
			border-style: solid;
			border-width: 0px;
			border-color: #E8E8E8;
		}

		

		.proin{
			display:flex;
			padding: 12px 20px;
			margin: 10px;
			cellpadding: 30px;
			font-size: 20px;
			font-weight:normal;
			width: 100%;
			border-style: solid;
			border-width: 2px;
			border-color: white;
			border-radius: .3em;
			font-family: Montserrat,sans-serif;
			-webkit-transition: all 300ms ease;
  transition: all 300ms ease;
			background-color: white !important;
		}
		
	.proin:hover {
	  box-shadow: 16px 16px 35px -7px rgba(0, 0, 0, .3);
	  -webkit-transform: translate(0px, -5px);
	  -ms-transform: translate(0px, -5px);
	 }

		.inone {
			width: 90%;
		}

		.tsktit {
			padding: 7px;
			font-color: #213875;
			width: 80px;
			border-style: solid;
			border-width: 1px;
			border-color: #E8E8E8;
		}

		.tskdesc {
			color: black;
			padding: 7px;
			font-size: 15px;
		}

		.intwo {
			width: 10vw;
		}

		input[type=submit] {
			padding: 5px 15px;
			background: #e5e5e5;
			font-weight: normal;
			font-family: Montserrat, sans-serif;
			font-color: #213875;
			border: 0 none;
			cursor: pointer;
			-webkit-border-radius: 5px;
			border-radius: 5px;
		}

		.inpt {
			position: relative;
			/*top: 10%;*/
		}

		.usar {
			text-align: center;
			border-style: solid;
			border-width: 1px;
			border-color: #E8E8E8;
			padding: 10px;
			cellspacing: 10px;
		}

		.checked {
			color: #daa520;
		}

		.


		.skill-bar1 {
			width: 90%;
			height: 15px;
			float: left;
			padding: 0px;
			border-radius: 5px;
			margin: 6px 0 12px 0;
			border: 2px solid #213875;
		}

		.skill-bar1 span {
			background: #213875;
			height: 12px;
			border-radius: 5px;
			display: inline-block;
		}

		.skill-bar1 span {
			animation: w1 1s ease forwards;
		}

		@keyframes w1 {
			from {
				width: 0%;
			}
			to {
				width: 40%;
			}
		}

		.skill-bar2 {
			width: 90%;
			height: 15px;
			float: left;
			padding: 0px;
			border-radius: 5px;
			margin: 6px 0 12px 0;
			border: 2px solid #27A5EB;
		}

		.skill-bar2 span {
			background: #27A5EB;
			height: 12px;
			border-radius: 5px;
			display: inline-block;
		}

		.skill-bar2 span {
			animation: w2 1s ease forwards;
		}

		@keyframes w2 {
			from {
				width: 0%;
			}
			to {
				width: 60%;
			}
		}

		#myInput {
			border-box: box-sizing;
			background-image: url('http://icons.iconarchive.com/icons/icons8/ios7/24/Very-Basic-Search-icon.png');
			background-position: 14px 12px;
			background-repeat: no-repeat;
			font-size: 16px;
			padding: 14px 20px 12px 45px;
			width: 190px;
			border: none;
			border-bottom: 1px solid #ddd;
		}

		#myInput:focus {
			outline: 3px solid #ddd;
		}

		.dropdown-content {
			display: none;
			padding-bottom: 1px;
			padding-top: 1px;
			position: absolute;
			color: #DC3D51;
			background-color: #213875;
			max-width: 200px;
			overflow-y: auto;
			max-height: 400px;
			border: 1px solid #ddd;
			z-index: 1;
		}

		.dropdown-content a {
			color: #DC3D51;
			padding: 1px;
			text-decoration: none;
			display: block;
		}


		.show {
			display: block;
		}

		.protag{

			padding: 0px 15px;
            background: #e5e5e5;
            display: inline-block;
            font-weight: normal;
            font-family: Montserrat, sans-serif;
            font-color: #213875;
            border: 0 none;
            cursor: pointer;
            -webkit-border-radius: 5px;
            border-radius: 5px;
		}
 
	</style>

	<script type="text/javascript">
		WebFont.load({ google: { families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic", "Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"] } });
	</script>
	<script type="text/javascript">
		!function (o, c) {
			var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
		}(window, document);
	</script>


	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

	<script type="text/javascript" src="/static/js/jquery.js"></script>
			
			<div class="container">
				{% if project %}
				<div class="display-4 text-center m-4" data-aos="zoom-in" data-aos-duration="1000">
				<b>{{project.project_name}}</b>
			</div>
				<div class="row">
						<div class=" col-md-12 col-sm-6 py-3 px-auto w-30 bg-white card mb-3"  data-aos="fade-up" data-aos-duration="1000">
							<div id="appimg"  style="overflow: hidden; text-align: center;" class="bg-primary p-2">
								<img id="lowa"src="{% static 'brandhub/summary.png' %}"/>
							</div>	
							<p style="color: black;line-height: inherit; vertical-align: center;">Project Description</p>
							<div class="card-item">
								<center>{{project.description}}</center>
							</div>
						</div>
						<div class=" col-md-4 col-sm-6 py-3 px-auto w-30 bg-white card mb-2" data-aos="fade-up" data-aos-duration="1000">
								<div id="appimg" class="bg-secondary p-2" style="overflow: hidden; text-align: center;">
									<img id="lowa"src="{% static 'brandhub/calendar.png' %}" />
								</div>
								Posted On
								<br> <span style="padding-left: 10px;"></span><p style="color: black;">{{project.postedOn}}</p>
						</div>

						<div class=" col-md-4 col-sm-6 py-3 px-auto w-30 bg-white card mb-2" data-aos="fade-up" data-aos-duration="1000">
								<div id="appimg" class="bg-danger p-2" style="overflow: hidden; text-align: center;">
								<img id="lowa"src="{% static 'brandhub/deadline.png' %}"/>
								</div>
								Deadline
								<br><span style="padding-left: 10px;"></span><p style="color: black;">{{project.deadline}}</p>
						</div>

						<div class=" col-md-4 col-sm-6 py-3 px-auto w-30 bg-white card mb-2" data-aos="fade-up" data-aos-duration="1000">
								<div id="appimg" class="bg-success p-2" style="overflow: hidden; text-align: center;">
								<img id="lowa"src="{% static 'brandhub/alarm-clock.png' %}"/>
								</div>
								You are left with <br><br>
								<div style="color: black;line-height: inherit; vertical-align: center;" id="deadTime" >
								</div>
						</div>
						</div>
				</div>
			{% if is_leader %}
			<div class=" col-md-12" data-aos="fade-up" data-aos-duration="1000">
				<a class=" btn btn-warning btn-lg mx-auto mt-2 px-auto w-100" href="{% url 'portal:edit-project' project.id%} ">Edit Project description</a>
			</div>
			{% endif %}
			<div class="ouleft bg-white mt-4 mb-2" data-aos="fade-up" data-aos-duration="1000">
				<div style="font-size: 25px; margin-bottom: 3px;">
					Tasks
				</div>


				<div class="projectContainer mt-4 mb-2">
					{% if added_tasks %}
						{% for job in added_tasks %}
							<div class="proin">
								<div class="inone">
									  <div style="color: #213875;">
										<a href="{% url 'portal:task_description' job.project.id job.id %}"><h3> {{job.task_name}} </h3> </a>
									  </div>

									  <div style="color: black;font-size:15px;">
										A task from <div class="protag"><a style="text-decoration: none;" href="{%url 'portal:project_description' job.project.id %}">{{job.project.project_name}}</a></div> Project
									  </div>

									  <div style="color: black;font-size:15px;">
										Added On     {{job.addedOn}}
									  </div>
								</div>

								<div class="intwo">
									<div class="inpt">
										{% if job.credits == 'Paid' %}
											$. {{job.amount}}
										{% else %}
											{{job.mention}}
										{% endif %}
										
									</div>
								</div>
							</div>
						{% endfor %}
					{% endif %}
				</div>
			</div>
			<div class="container bg-white mt-4 mb-4" data-aos="fade-up" data-aos-duration="1000">
				<div class="row">
					<div class="col-md-6 col-sm-6">
						{% if is_leader and not project.isCompleted %}
						<script type="text/javascript">console.log("i am here")</script>
						<a style="text-decoration: none;" href="{% url 'portal:add_task' project.id %}" class="btn btn-success mb-5">
							Add Task
						</a>
						{% endif %}
					</div>
					<div class="col-md-6 col-sm-6">
						Posted by
						<a style=" text-decoration: none;"href="{{project_description.get_absolute_url}}"><span style="color :#213875">{{project.leader}}</span></a>

					</div>
				</div>
				
			</div>
           {% else %}
           <div data-aos="fade-up" data-aos-duration="1000">
           	<p class="lead"> no projects</p>
           </div>
		</div>
	{% endif %}

<script>

	$('#back').click(function goBack() {
		window.history.back();
	});

	console.log("{{year}}-{{month}}-{{date}}");
	// Set the date we're counting down to
	var countDownDate = new Date("{{year}}-{{month}}-{{date}}").getTime();      //   Date and Time in this format 2400hrs time system

	// Update the count down every 1 second
	var x = setInterval(function () {

		// Get todays date and time
		var now = new Date().getTime();

		// Find the distance between now and the count down date
		var distance = countDownDate - now;

		// Time calculations for days, hours, minutes and seconds
		var days = Math.floor(distance / (1000 * 60 * 60 * 24));
		var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
		var seconds = Math.floor((distance % (1000 * 60)) / 1000);

		// Output the result in an element with id="deadTime"
		document.getElementById("deadTime").innerHTML = days + "d " + hours + "h "
			+ minutes + "m " + seconds + "s ";

		// If the count down is over, write some text
		if (distance < 0) {
			clearInterval(x);
			document.getElementById("deadTime").innerHTML = "Time Up!";
		}
	}, 1000);
</script>

{% endblock content %}
