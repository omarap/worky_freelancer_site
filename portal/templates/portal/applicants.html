{% extends 'base.html' %}
{% block title %} Applicants {% endblock title%}
{%load static %}
{% block content %}

	<script type="text/javascript">
		!function (o, c) {
			var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
		}(window, document);
	</script>

	<style>
		.w-icon-nav-menu:before {
			content: ""
		}

		@media only screen and (max-width: 1260px) {
			#freekohide {
				display: none;
			}
			#freekohideho {
				width: 76% !important;
			}
		}

		@media only screen and (max-width: 767px) {
			.pta {
				display: none;
			}
		}


		.searchcontainer {
			max-width: 50%;
			margin: 0 auto;
			width: 50%;
			padding: 5rem 2rem;
		}

		.searchcontainer .field-input {
			text-align: center;
			max-width: 100%;
		}

		.searchcontainer .field-input input {
			text-align: left;
			border-radius: 6rem;
			border: 1px solid #a0a0a0;
			font-size: 20px;
			padding: .6rem 2rem .6rem 1rem;
			min-width: 60%;
			font-family: 'roboto';
			transition: .5s;
		}

		.searchcontainer .field-input input:focus {
			outline: none;
			border-color: #212121;
			transition: .5s;
		}

		.searchcontainer .field-input span:before {
			content: 'ï€‚';
			cursor: pointer;
			position: relative;
			font-family: 'fontawesome';
			top: 0;
			right: 1.5rem;
		}

		#info .bg {
			fill: transparent;
		}

		#info .st0 {
			fill: none;
			stroke: green;
			stroke-width: 6;
			stroke-miterlimit: 10;
		}

		#info .st1 {
			fill: green;
		}

		#info .st2 {
			fill: green;
			stroke: green;
			stroke-width: 6;
			stroke-miterlimit: 10;
		}

		/*Lock*/

		#lock #bg {
			fill: transparent
		}

		#lock .st0,
		#lock .circle,
		#lock .ellipse {
			fill: none;
			stroke: #DC3D51;
			;
			stroke-width: 2;
			stroke-miterlimit: 10;
		}

		#lock .st0 {
			-moz-transform: scale(1, 1);
			-ms-transform: scale(1, 1);
			-webkit-transform: scale(1, 1);
			transform: scale(1, 1);

			-moz-transform-origin: 50% 50%;
			-ms-transform-origin: 50% 50%;
			-webkit-transform-origin: 50% 50%;
			transform: 50% 50%;
			transition: 0.5s;
		}

		#lock:hover .st0 {
			-moz-transform: scale(-1, 1);
			-ms-transform: scale(-1, 1);
			-webkit-transform: scale(-1, 1);
			transform: scale(-1, 1);
		}

		#lock .st1 {
			fill: none;
			stroke: #DC3D51;
			;
			stroke-width: 4;
			stroke-miterlimit: 10;
		}

		#lock .st2 {
			fill: none;
			stroke: #DC3D51;
			;
			stroke-width: 4;
			stroke-miterlimit: 10;
			stroke-dasharray: 41;
			transition: 0.5s;
		}

		#lock:hover .st2 {
			stroke-dasharray: 31;
		}

		.nav-menu {
			display: -webkit-box;
			display: -webkit-flex;
			display: -ms-flexbox;
			display: flex;
			height: 80px;
			-webkit-box-align: stretch;
			-webkit-align-items: stretch;
			-ms-flex-align: stretch;
			align-items: stretch;
		}

		.ou {

			height: 70%;
			display: flex;
			padding: 10px;
			margin: 20px;
			padding-right: 10px;

		}

		.ouleft {
			width: 60%;
			height: 100%;
			overflow: hidden;

			float: left;
		}

		.mid {
			width: 12%;
		}

		.ouright {
			vertical-align: center;
			width: 30%;
		}

		.projectContainer {
			height: 400px;
			overflow-y: scroll;
			padding: 12px;
			padding-top: 12px;
			padding-bottom: 12px;
			padding-right: 30px;
			border-style: solid;
			border-width: 0px;
			border-color: #E8E8E8;
		
		}

		.innDesc {

			font-size: 17px;
			width: 100%;
			display: flex;
			padding: 12px;

		}

		.desc {
			font-size: 25px;
			width: 75%;
			text-align: left;
			color: black;
			padding: 12px;
			overflow: hidden;
		}

		.pta {
			width: 10vw;
			font-size: 17px;
			text-align: center;
			line-height: normal;
		}

		.dead {
			width: 15%;
			vertical-align: middle;
			font-size: 17px;
			font-color: fb7a74;
			text-align: center;
			overfolw: hidden;
		}


		.proin{
			display:flex;
			padding: 12px 20px;
			margin: 5px;
			cellpadding: 30px;
			font-size: 20px;
			font-weight:normal;
			width: 100%;
			border-style: solid;
			border-width: 2px;
			border-color: #f8f8f8;;
			border-radius: .3em;
			font-family: Montserrat, sans-serif;
			-webkit-transition: all 300ms ease;
  transition: all 300ms ease;
			background-color: white !important;
		}
		
	.proin:hover {
	  box-shadow: 16px 16px 35px -7px rgba(0, 0, 0, .3);
	  -webkit-transform: translate(0px, -5px);
	  -ms-transform: translate(0px, -5px);
	  transform: translate(0px, -5px);
	}


		.inone {
			width: 90%;
		}

		.intwo {
			width: 10vw;
			position: relative;
		}

		input[type=submit] {
			padding: 5px 15px;
			background: #e5e5e5;
			font-weight: normal;
			font-family: Montserrat, sans-serif;
			font-color: #213875;
			border: 0 none;
			cursor: pointer;
			-webkit-border-radius: 5px;
			border-radius: 5px;
		}

		.applicantSelect {
			position: absolute;
			top: 15%;
		}

		.applicantReject {
			position: absolute;
			bottom: 15%;

		}


		
		.usar{
			text-align: center;
			border-style: solid;
			border-width: 0px;
			border-color: white;
			
			cellspacing: 10px;
			background-color:white;
			-webkit-transition: all 300ms ease;
  transition: all 300ms ease;
		}
		
		.usar:hover {
		  box-shadow: 16px 16px 35px -7px rgba(0, 0, 0, .3);
		  -webkit-transform: translate(0px, -5px);
		  -ms-transform: translate(0px, -5px);
		  transform: translate(0px, -5px);
		}

		.appimg{
			-webkit-transition: -webkit-transform 500ms ease;
			  transition: -webkit-transform 500ms ease;
			  transition: transform 500ms ease;
			  transition: transform 500ms ease, -webkit-transform 500ms ease;
		}
		.appimg:hover {
			  -webkit-transform: scale(1.1);
			  -ms-transform: scale(1.1);
			  transform: scale(1.1);
		}

		.checked {
			color: #daa520;
		}

		.situation {
			border-style: solid;
			border-width: 1px;
			border-color: #E8E8E8;
			padding: 10px;
		}

		.currentWorkingStatus {
			border-style: solid;
			border-width: 1px;
			border-color: #E8E8E8;
			margin: 5px;
			padding: 10px;
		}

		.skill-bar1 {
			width: 90%;
			height: 15px;
			float: left;
			padding: 0px;
			border-radius: 5px;
			margin: 6px 0 12px 0;
			border: 2px solid #213875;
		}

		.skill-bar1 span {
			background: #213875;
			height: 12px;
			border-radius: 5px;
			display: inline-block;
		}

		.skill-bar1 span {
			animation: w1 1s ease forwards;
		}

		@keyframes w1 {
			from {
				width: 0%;
			}
			to {
				width: 40%;
			}
		}

		.skill-bar2 {
			width: 90%;
			height: 15px;
			float: left;
			padding: 0px;
			border-radius: 5px;
			margin: 6px 0 12px 0;
			border: 2px solid #27A5EB;
		}

		.skill-bar2 span {
			background: #27A5EB;
			height: 12px;
			border-radius: 5px;
			display: inline-block;
		}

		.skill-bar2 span {
			animation: w2 1s ease forwards;
		}

		@keyframes w2 {
			from {
				width: 0%;
			}
			to {
				width: 60%;
			}
		}


		#myInput {
			border-box: box-sizing;
			background-image: url('http://icons.iconarchive.com/icons/icons8/ios7/24/Very-Basic-Search-icon.png');
			background-position: 14px 12px;
			background-repeat: no-repeat;
			font-size: 16px;
			padding: 14px 20px 12px 45px;
			width: 190px;
			border: none;
			border-bottom: 1px solid #ddd;
		}

		#myInput:focus {
			outline: 3px solid #ddd;
		}

		.dropdown-content {
			display: none;
			padding-bottom: 1px;
			padding-top: 1px;
			position: absolute;
			color: #DC3D51;
			background-color: #213875;
			max-width: 200px;
			overflow-y: auto;
			max-height: 400px;
			border: 1px solid #ddd;
			z-index: 1;
		}

		.dropdown-content a {
			color: #DC3D51;
			padding: 1px;
			text-decoration: none;
			display: block;
		}


		.show {
			display: block;
		}
	</style>


</head>



<p style=" display: block; margin: 5px 0;content: '';"></p>
<span style="padding-left:10px;padding-top: 5px;"></span>
<br>
<div class="container  mx-auto bg-white">
	<div class="row">
		<div class="col-md-4 w-100">
		<h4>Applicants</h4><br>
	</div>

<div class="col-md-4  w-30">
		Deadline {{task.deadline}}
</div>
<div class="dead col-md-4 w-100" id="deadTime" style="font-color: fb7a74;">
	</div>
</div>


</div>


	Task:- <a href="{% url 'portal:task_description' task.project.id task.id%}">{{task.task_name}}</a> <br>
	Project:- <a href="{% url 'portal:project_description' task.project.id %}">{{task.project.project_name}}</a>

		<div class="mid">
		</div>
		<div class="">
			<br>
			<div class="usar">
				<div class="container">
					<div class="row">
						<div style="overflow: hidden;" class="col-md-12 col-sm-6 py-3 px-auto w-30 bg-white mb-3">
							<img class="appimg  img-responsive w-100 h-100" src="{% static 'brandhub/applicants.jpg' %}"/>

							<div class="m-3 p-2">No. Of Applicants</div>
						</div>
					</div>
				</div>
				{% if profiles in applicants%}
				<div class="ratin">
					{{profiles.count}}
				</div>
				{% endif %}
			</div>
			<br> {% if contributor %}
			<div class="usar">
				<div>
					Contributor
				</div>
				<div class="ratin">
					<a href="{%url 'portal:my-profile' contributor.user.user.username %}">{{contributor.user.user.username}}</a>
				</div>
			</div>
			{% endif%}

		</div>
	</div>




<div>
  <h3 class="text-center">
    <b>Applicants for {{task.task_name}}</b>
  </h3>
  <br />
  {% if profiles %}
  <div class="row">
    {% for profile in profiles %}
    <div class="col-md-4 px-1">
      <div class="card card-signin my-5 p-2 shadow">
        <span class="ml-3 mt-3">
          <a href="{% url 'portal:my-profile' %}">
            {% if profile.full_name %}
            <h4 class="text-dark px-3">
              <b>{{profile.full_name}}</b>
            </h4>
            {% else %}
            <h4 class="text-dark px-3">
              <b>{{profile.user.username}}</b>
            </h4>
            {% endif %}
          </a>
          <p style="font-size: 17px" class="px-3">
            {{profile.user.email}}<br />
          </p>

          {% if profile.phone_number %}
          <p class="px-3">{{profile.phone_number}}</p>
          {% endif %}

          {% if profile.profile_picture %}
          <div class="px-3">
          	<img src="{{profile.profile_picture.url}}" alt="Profile image" class=" img-responsive"style="overflow: hidden; text-align: center;" width="250" height="300" />
          </div>
          {% else %}
          <p>No Picture Provided!</p>
          {% endif %}
        </span>
        <a href="{% url 'portal:profile_description' profile.id%}" class="text-warning px-3">View Profile</a>
        <div class="card-footer">
          <a
            class="btn btn-success mr-2 px-3"
            href="{% url 'portal:select-applicant' can_id=profile.slug task_id=task.slug %}"
            >Select
          </a>
          <a
            class="btn btn-danger mr-2 px-3"
            href="{% url 'portal:remove-applicant' can_id=profile.slug task_id=task.slug %}"
            >Reject
          </a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="text-center">
    No new applications for now! Please check back later! Go to
    <a href="{% url 'portal:selected-list' task.slug %}">selected list</a> by clicking
    here!
  </p>

  <br />
  {% endif %}
</div>

<script>
	// Set the date we're counting down to
	var countDownDate = new Date("{{task.deadline}}").getTime();      //   Date and Time in this format 2400hrs time system

	// Update the count down every 1 second
	var x = setInterval(function () {

		// Get todays date and time
		var now = new Date().getTime();

		// Find the distance between now and the count down date
		var distance = countDownDate - now;

		// Time calculations for days, hours, minutes and seconds
		var days = Math.floor(distance / (1000 * 60 * 60 * 24));
		var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
		var seconds = Math.floor((distance % (1000 * 60)) / 1000);

		// Output the result in an element with id="deadTime"
		document.getElementById("deadTime").innerHTML = days + "d " + hours + "h "
			+ minutes + "m " + seconds + "s ";

		// If the count down is over, write some text
		if (distance < 0) {
			clearInterval(x);
			document.getElementById("deadTime").innerHTML = "Time Up!";
		}
	}, 1000);
</script>
{% endblock %}
